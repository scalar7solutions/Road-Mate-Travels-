import{D as p}from"./Datatable-V7WP3OY6.js";import{d as f,f as h,D as s,r as v,j as _,b as e,a as w,w as x,k as i,o as D}from"./app-CO-Li67X.js";const k={class:"rounded-2xl border border-neutral-200 bg-white p-4 shadow-sm"},C=f({__name:"BannerList",setup(y){const l=h(()=>s("homebanners.data")),d=v(0),c=[{data:"id",name:"id"},{data:"name",name:"name"},{data:"video_preview",name:"video_path",orderable:!1,searchable:!1},{data:"description",name:"description"},{data:"actions",name:"actions",orderable:!1,searchable:!1}],m=[{targets:[2,4],render:t=>t}];function u(t){const n=t.target.closest("button[data-action]");if(!n)return;t.preventDefault(),t.stopPropagation();const o=n.dataset.action,r=n.dataset.id,b=n.dataset.name;if(!(!o||!r)){if(o==="edit"){i.visit(s("homebanners.edit",Number(r)));return}if(o==="delete"){if(!confirm(`Delete home banner "${b||""}"? This cannot be undone.`))return;i.delete(s("homebanners.destroy",Number(r)),{preserveScroll:!0,onSuccess:()=>d.value=Date.now()})}}}return(t,a)=>(D(),_("div",k,[a[1]||(a[1]=e("div",{class:"font-semibold text-neutral-800 mb-4"},"All Home Banners",-1)),e("div",{onClick:u},[w(p,{id:"homeBannerTable",url:l.value,columns:c,columnDefs:m,order:[[0,"desc"]],reloadKey:d.value},{header:x(()=>[...a[0]||(a[0]=[e("tr",null,[e("th",{style:{width:"60px"}},"#"),e("th",null,"Banner Name"),e("th",{style:{width:"180px"}},"Video"),e("th",null,"Description"),e("th",{style:{width:"220px"}},"Actions")],-1)])]),_:1},8,["url","reloadKey"])])]))}});export{C as _};
