import{D as f}from"./Datatable-V7WP3OY6.js";import{d as p,f as h,D as o,r as v,g as k,n as w,i as x,j as _,b as e,a as y,w as g,k as i,o as B}from"./app-CO-Li67X.js";const D={class:"rounded-2xl border border-neutral-200 bg-white p-4 shadow-sm"},K=p({__name:"BrandList",setup(N){const c=h(()=>o("brands.data")),d=v(0),u=[{data:"id",name:"id"},{data:"name",name:"name"},{data:"status_badge",name:"status",orderable:!0,searchable:!0},{data:"actions",name:"actions",orderable:!1,searchable:!1}],m=[{targets:[2,3],render:a=>a}];function l(a){const n=a.target.closest("button[data-action]");if(!n)return;const r=n.dataset.action,s=n.dataset.id,b=n.dataset.name;if(!(!r||!s)){if(r==="edit"){i.visit(o("brands.edit",Number(s)));return}if(r==="delete"){if(!confirm(`Delete brand "${b||""}"? This cannot be undone.`))return;i.delete(o("brands.destroy",Number(s)),{preserveScroll:!0,onSuccess:()=>{d.value=Date.now()}})}}}return k(async()=>{await w(),document.addEventListener("click",l,!0)}),x(()=>{document.removeEventListener("click",l,!0)}),(a,t)=>(B(),_("div",D,[t[1]||(t[1]=e("div",{class:"font-semibold text-neutral-800 mb-4"},"All Brands",-1)),y(f,{id:"brandsTable",url:c.value,columns:u,columnDefs:m,order:[[0,"desc"]],reloadKey:d.value},{header:g(()=>[...t[0]||(t[0]=[e("tr",null,[e("th",{style:{width:"60px"}},"#"),e("th",null,"Brand Name"),e("th",{style:{width:"120px"}},"Status"),e("th",{style:{width:"220px"}},"Actions")],-1)])]),_:1},8,["url","reloadKey"])]))}});export{K as _};
