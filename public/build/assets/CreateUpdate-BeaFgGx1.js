import{d as y,f as C,r as k,m as j,p as U,c as B,w as f,a as p,b as e,u as o,h as N,t as n,l as b,D as c,e as v,q as S,s as g,j as u,v as x,x as V,o as i,y as D}from"./app-CO-Li67X.js";import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-CccvE53C.js";import"./index-BGSI_5wX.js";import"./useForwardExpose-CPxa4S1q.js";import"./VisuallyHidden-znRxUDds.js";import"./RovingFocusGroup-BF5_n4PG.js";import"./createLucideIcon-DirkTCRQ.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-DmJqIgJy.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Ds9XV8fC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./lock-C1-sIU4x.js";const M={class:"p-6 space-y-4"},P={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},F={class:"text-2xl font-bold"},I={class:"text-sm text-neutral-500"},T={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},G={class:"md:col-span-1"},L={key:0,class:"mt-1 text-sm text-red-600"},R={class:"md:col-span-1"},q={key:0,class:"mt-1 text-sm text-red-600"},A={class:"md:col-span-2"},J={class:"flex flex-col sm:flex-row gap-4 items-start sm:items-center"},O={class:"h-20 w-20 rounded-xl border border-neutral-200 overflow-hidden bg-neutral-50 flex items-center justify-center"},W=["src"],$={key:1,class:"text-xs text-neutral-400"},z={class:"flex-1 w-full"},H={key:0,class:"mt-1 text-sm text-red-600"},K={class:"mt-6 flex flex-col sm:flex-row gap-2 sm:justify-end"},Q=["disabled"],de=y({__name:"CreateUpdate",props:{mode:{},color:{}},setup(_){const r=_,d=C(()=>r.mode==="edit"&&!!r.color?.id),m=k(r.color?.image_url??null),t=j({name:r.color?.name??"",status:r.color?.status??"active",image:null});U(()=>r.color?.id,()=>{const l=r.color;t.clearErrors(),t.name=l?.name??"",t.status=l?.status??"active",t.image=null,m.value=l?.image_url??null});function h(l){const a=l.target.files?.[0]||null;t.image=a,a&&(m.value=URL.createObjectURL(a))}function w(){if(t.clearErrors(),!d.value){t.post(c("colors.store"),{forceFormData:!0,preserveScroll:!0});return}t.transform(l=>({...l,_method:"PUT"})).post(c("colors.update",r.color.id),{forceFormData:!0,preserveScroll:!0,onFinish:()=>t.transform(l=>l)})}return(l,s)=>(i(),B(E,null,{default:f(()=>[p(o(N),{title:d.value?"Update Color":"Create Color"},null,8,["title"]),e("div",M,[e("div",P,[e("div",null,[e("h1",F,n(d.value?"Update Color":"Create Color"),1),e("p",I,n(d.value?"Edit color details.":"Create a new color."),1)]),p(o(b),{href:o(c)("colors.index"),class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full border border-neutral-200 px-4 py-2 text-sm font-medium text-neutral-700 hover:bg-neutral-100 transition"},{default:f(()=>[...s[2]||(s[2]=[v(" Back ",-1)])]),_:1},8,["href"])]),e("form",{onSubmit:S(w,["prevent"]),class:"rounded-2xl border border-neutral-200 bg-white p-4 sm:p-6 shadow-sm"},[e("div",T,[e("div",G,[s[3]||(s[3]=e("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Color Name",-1)),g(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>o(t).name=a),type:"text",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. Midnight Black"},null,512),[[V,o(t).name]]),o(t).errors.name?(i(),u("p",L,n(o(t).errors.name),1)):x("",!0)]),e("div",R,[s[5]||(s[5]=e("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Status",-1)),g(e("select",{"onUpdate:modelValue":s[1]||(s[1]=a=>o(t).status=a),class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500"},[...s[4]||(s[4]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)])],512),[[D,o(t).status]]),o(t).errors.status?(i(),u("p",q,n(o(t).errors.status),1)):x("",!0)]),e("div",A,[s[7]||(s[7]=e("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Color Image",-1)),e("div",J,[e("div",O,[m.value?(i(),u("img",{key:0,src:m.value,class:"h-full w-full object-cover"},null,8,W)):(i(),u("span",$,"No Image"))]),e("div",z,[e("input",{type:"file",accept:"image/*",onChange:h,class:"block w-full text-sm text-neutral-600 file:mr-4 file:rounded-full file:border-0 file:bg-neutral-100 file:px-4 file:py-2 file:text-sm file:font-medium hover:file:bg-neutral-200"},null,32),s[6]||(s[6]=e("p",{class:"text-xs text-neutral-500 mt-1"},"JPG/PNG/WebP up to 2MB.",-1)),o(t).errors.image?(i(),u("p",H,n(o(t).errors.image),1)):x("",!0)])])])]),e("div",K,[p(o(b),{href:o(c)("colors.index"),class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full border border-neutral-200 px-5 py-2 text-sm font-medium text-neutral-700 hover:bg-neutral-100 transition"},{default:f(()=>[...s[8]||(s[8]=[v(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:o(t).processing,class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full bg-red-500 px-6 py-2 text-sm font-medium text-white hover:bg-red-600 disabled:opacity-50"},n(o(t).processing?"Saving...":d.value?"Update":"Create"),9,Q)])],32)])]),_:1}))}});export{de as default};
