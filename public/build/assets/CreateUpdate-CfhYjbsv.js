import{j as m,b as l,v as f,t as v,a as g,s as c,x as b,q as _,w as z,o as u,H as I,I as K,J as q,T as Z,K as P,d as $,L as ee,f as w,r as N,m as te,p as T,c as le,u as r,h as re,l as E,D as C,e as B,M as D}from"./app-CO-Li67X.js";import{_ as oe}from"./AppLayout.vue_vue_type_script_setup_true_lang-CccvE53C.js";import{M as R}from"./MultiSelect-DJzAklNJ.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BGSI_5wX.js";import"./useForwardExpose-CPxa4S1q.js";import"./VisuallyHidden-znRxUDds.js";import"./RovingFocusGroup-BF5_n4PG.js";import"./createLucideIcon-DirkTCRQ.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-DmJqIgJy.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Ds9XV8fC.js";import"./lock-C1-sIU4x.js";const ie={name:"SelectInputComponentVue",emits:["update:modelValue","update:model-value","change"],props:{id:{type:String,required:!0},className:{type:String,default:"w-full"},label:{type:String,required:!0},error:{type:String,default:""},isRequired:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},valueKey:{type:String,default:"id"},labelKey:{type:String,default:"name"},modelValue:{default:""},placeholder:{type:String,default:"Select Option"},showPlaceholder:{type:Boolean,default:!0},name:{type:String,default:""},useHiddenSelect:{type:Boolean,default:!1}},data(){return{open:!1,query:"",activeIndex:0,placement:"down",dropdownMaxHeight:256}},computed:{getVal(){return i=>i?.[this.valueKey]??i?.value??i},getLbl(){return i=>i?.[this.labelKey]??i?.label??i?.title??String(i)},normalizedOptions(){return Array.isArray(this.options)?this.options:[]},filtered(){const i=(this.query||"").trim().toLowerCase(),s=this.normalizedOptions;return i?s.filter(a=>this.getLbl(a).toLowerCase().includes(i)):s},displayValue:{get(){return this.modelValue??""},set(i){this.emitValue(i)}},selectedText(){if(this.displayValue==="")return"";const i=this.normalizedOptions.find(s=>this.getVal(s)===this.displayValue);return i?this.getLbl(i):String(this.displayValue??"")},inputPlaceholder(){return this.selectedText&&!this.query?this.selectedText:this.showPlaceholder?this.placeholder:""},displayText(){return this.selectedText||(this.showPlaceholder?this.placeholder:"")},activeOptionId(){const i=this.filtered[this.activeIndex];return i?`opt-${this.id}-${this.getVal(i)}`:null}},watch:{open(i){if(i){this.$nextTick(()=>{this.$refs.search?.focus(),this.recomputePlacement()}),document.addEventListener("pointerdown",this.onOutside,{capture:!0}),window.addEventListener("resize",this.recomputePlacement,{passive:!0}),window.addEventListener("scroll",this.recomputePlacement,{passive:!0,capture:!0});const s=this.filtered.findIndex(a=>this.getVal(a)===this.displayValue);this.activeIndex=s>=0?s:0}else document.removeEventListener("pointerdown",this.onOutside,{capture:!0}),window.removeEventListener("resize",this.recomputePlacement),window.removeEventListener("scroll",this.recomputePlacement,{capture:!0})}},methods:{focusInput(){this.$refs.search?.focus()},toggleFromInput(){this.open?this.close():this.open=!0},emitValue(i){this.$emit("update:modelValue",i),this.$emit("update:model-value",i),this.$emit("change",i)},close(){this.open=!1,this.activeIndex=0,this.query=""},onOutside(i){this.$refs.root?.contains(i.target)||this.close()},isSelected(i){return this.displayValue===i},move(i){this.open||(this.open=!0);const s=this.filtered.length;s&&(this.activeIndex=(this.activeIndex+i+s)%s,this.$nextTick(()=>{const a=this.activeOptionId;if(!a)return;document.getElementById(a)?.scrollIntoView({block:"nearest"})}))},selectActive(){const i=this.filtered[this.activeIndex];i&&this.choose(i)},choose(i){if(this.disabled)return;const s=this.getVal(i);this.emitValue(s),this.close()},recomputePlacement(){this.$nextTick(()=>{const i=this.$refs.root;if(!i)return;const s=i.getBoundingClientRect(),a=window.innerHeight||document.documentElement.clientHeight,h=s.top,y=a-s.bottom,d=this.dropdownMaxHeight;this.placement=y<Math.min(d,h)&&h>y?"up":"down"})}},beforeUnmount(){document.removeEventListener("pointerdown",this.onOutside,{capture:!0}),window.removeEventListener("resize",this.recomputePlacement),window.removeEventListener("scroll",this.recomputePlacement,{capture:!0})}},ne=["for"],de=["id","aria-invalid","aria-expanded","aria-controls","aria-activedescendant"],ae={class:"flex items-center px-3"},ue=["placeholder","disabled"],me=["id"],pe={class:"divide-y divide-zinc-100 dark:divide-zinc-800"},ce=["id","aria-selected","onClick","onMouseenter"],be={key:0,class:"px-3 py-3 text-sm text-zinc-500"},fe={key:0,class:"mt-1 text-sm text-rose-600"},ye=["name","required","disabled","value"],xe=["value","selected"];function ve(i,s,a,h,y,d){return u(),m("div",{class:I(a.className),ref:"root"},[l("label",{for:a.id,class:"mb-1 block text-sm font-medium text-zinc-700 dark:text-zinc-200"},v(a.label),9,ne),l("div",{id:a.id,class:I(["relative rounded-md border",[a.disabled?"cursor-not-allowed opacity-60":"cursor-text","focus-within:ring-2"]]),"aria-invalid":!!a.error,"aria-expanded":y.open?"true":"false",role:"combobox","aria-controls":`list-${a.id}`,"aria-activedescendant":d.activeOptionId,tabindex:"0",onMousedown:s[4]||(s[4]=_((...p)=>d.focusInput&&d.focusInput(...p),["self","prevent"])),onClick:s[5]||(s[5]=_(p=>y.open=!0,["self"])),onKeydown:[s[6]||(s[6]=P(_(p=>d.move(1),["prevent"]),["down"])),s[7]||(s[7]=P(_(p=>d.move(-1),["prevent"]),["up"])),s[8]||(s[8]=P(_(p=>d.selectActive(),["prevent"]),["enter"])),s[9]||(s[9]=P(_((...p)=>d.close&&d.close(...p),["prevent"]),["esc"]))]},[l("div",ae,[c(l("input",{ref:"search",type:"text","onUpdate:modelValue":s[0]||(s[0]=p=>y.query=p),placeholder:d.inputPlaceholder,disabled:a.disabled,class:"flex-1 border-0 bg-transparent px-0 py-0 text-sm text-zinc-900 placeholder-zinc-400 outline-none dark:text-zinc-100 h-10",onClick:s[1]||(s[1]=_((...p)=>d.toggleFromInput&&d.toggleFromInput(...p),["stop"])),onInput:s[2]||(s[2]=p=>y.open=!0)},null,40,ue),[[b,y.query]])]),g(Z,{name:"fade",appear:""},{default:z(()=>[y.open?(u(),m("div",{key:0,class:I(["absolute z-30 max-h-64 w-full overflow-auto rounded-md border border-zinc-200 bg-white shadow-lg dark:border-zinc-700 dark:bg-zinc-900",y.placement==="down"?"mt-1":"bottom-full mb-1"]),id:`list-${a.id}`,role:"listbox"},[l("ul",pe,[(u(!0),m(K,null,q(d.filtered,(p,V)=>(u(),m("li",{key:d.getVal(p),id:`opt-${a.id}-${d.getVal(p)}`,class:I(["cursor-pointer px-3 py-2 text-sm",[V===y.activeIndex?"custom-bg-primary text-white":"hover:bg-zinc-100 dark:hover:bg-zinc-800",d.isSelected(d.getVal(p))&&V!==y.activeIndex?"font-semibold text-zinc-800 dark:text-zinc-200":""]]),role:"option","aria-selected":d.isSelected(d.getVal(p)),onMousedown:s[3]||(s[3]=_(()=>{},["prevent"])),onClick:n=>d.choose(p),onMouseenter:n=>y.activeIndex=V},v(d.getLbl(p)),43,ce))),128)),d.filtered.length?f("",!0):(u(),m("li",be," No results "))])],10,me)):f("",!0)]),_:1})],42,de),a.error?(u(),m("p",fe,v(a.error),1)):f("",!0),a.useHiddenSelect?(u(),m("select",{key:1,name:a.name,class:"hidden",required:a.isRequired,disabled:a.disabled,value:d.displayValue},[(u(!0),m(K,null,q(d.normalizedOptions,p=>(u(),m("option",{key:"hid-"+d.getVal(p),value:d.getVal(p),selected:d.isSelected(d.getVal(p))},v(d.getLbl(p)),9,xe))),128))],8,ye)):f("",!0)],2)}const k=se(ie,[["render",ve],["__scopeId","data-v-bde2c200"]]),ge={class:"p-6 space-y-4"},_e={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},he={class:"text-2xl font-bold"},we={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ke={key:0,class:"mt-1 text-sm text-red-600"},Ve={class:"md:col-span-2"},Se={key:0,class:"mt-1 text-sm text-red-600"},Ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ie={key:0,class:"mt-1 text-sm text-red-600"},Pe=["disabled"],Ce={key:0,class:"mt-1 text-sm text-red-600"},ze={class:"flex items-center gap-3 mt-6"},Ke={key:0,class:"mt-1 text-sm text-red-600"},qe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Le={key:0,class:"mt-1 text-sm text-red-600"},Oe={key:0,class:"mt-1 text-sm text-red-600"},Ne={class:"md:col-span-2"},Re={class:"grid grid-cols-1 gap-4"},Me={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Te={class:"flex items-center gap-4"},Ee={class:"h-20 w-20 rounded-xl border border-neutral-200 overflow-hidden bg-neutral-50 flex items-center justify-center"},Be=["src"],De={key:1,class:"text-xs text-neutral-400"},je={class:"flex-1"},Fe={key:0,class:"mt-1 text-sm text-red-600"},Ae={key:0,class:"mt-1 text-sm text-red-600"},He={key:1,class:"mt-2 flex items-center gap-2"},Ge={class:"md:col-span-2 space-y-2"},We={key:0,class:"text-sm font-medium text-neutral-700"},Je={class:"flex flex-wrap gap-2"},Ye=["src"],Qe={key:1,class:"text-sm font-medium text-neutral-700 mt-2"},Xe={class:"flex flex-wrap gap-2"},Ze=["src"],$e={class:"flex flex-col sm:flex-row gap-2 sm:justify-end pt-2"},et=["disabled"],bt=$({__name:"CreateUpdate",props:{mode:{},product:{}},setup(i){const s=ee(),a=w(()=>s.props.categories||[]),h=w(()=>s.props.brands||[]),y=w(()=>s.props.warranties||[]),d=w(()=>s.props.colors||[]),p=w(()=>s.props.storages||[]),V=w(()=>s.props.rams||[]),n=i,S=w(()=>n.mode==="edit"&&!!n.product?.id),L=N(n.product?.main_image_url??null),M=N(n.product?.gallery_urls??[]),O=N([]),j=n.product?.storage_option_ids?.length?n.product.storage_option_ids:n.product?.storage_option_id?[Number(n.product.storage_option_id)]:[],F=n.product?.ram_option_ids?.length?n.product.ram_option_ids:n.product?.ram_option_id?[Number(n.product.ram_option_id)]:[],t=te({category_id:n.product?.category_id??a.value[0]?.id??null,brand_id:n.product?.brand_id??null,model:n.product?.model??"",device_status:n.product?.device_status??"brandnew",price_lkr:n.product?.price_lkr??"",discount_type:n.product?.discount_type??null,discount_value:n.product?.discount_value??null,in_stock:n.product?.in_stock??!0,stock_count:n.product?.stock_count??null,status:n.product?.status??"active",is_featured:n.product?.is_featured??!1,warranty_option_id:n.product?.warranty_option_id??null,warranty_period:n.product?.warranty_period??"",os:n.product?.os??"",storage_option_ids:j,ram_option_ids:F,display_size:n.product?.display_size??"",display_type:n.product?.display_type??"",resolution:n.product?.resolution??"",rear_camera:n.product?.rear_camera??"",front_camera:n.product?.front_camera??"",connectivity:n.product?.connectivity??"",battery_mah:n.product?.battery_mah??"",short_description:n.product?.short_description??"",long_description:n.product?.long_description??"",color_ids:n.product?.color_ids??[],main_image:null,gallery_images:[],clear_gallery:!1}),A=w(()=>t.category_id?h.value.filter(x=>(x.category_ids||[]).includes(Number(t.category_id))):h.value);T(()=>t.category_id,()=>{const x=h.value.find(e=>e.id===Number(t.brand_id));t.brand_id&&x&&!(x.category_ids||[]).includes(Number(t.category_id))&&(t.brand_id=null)}),T(()=>t.in_stock,x=>{x||(t.stock_count=null)});function H(x){const o=x.target.files?.[0]||null;t.main_image=o,o&&(L.value=URL.createObjectURL(o))}function G(x){const e=x.target,o=e.files?Array.from(e.files):[];t.gallery_images=o,O.value=o.map(U=>URL.createObjectURL(U))}function W(){if(t.clearErrors(),!S.value){t.post(C("products.store"),{forceFormData:!0,preserveScroll:!0});return}t.transform(x=>({...x,_method:"PUT"})).post(C("products.update",n.product.id),{forceFormData:!0,preserveScroll:!0,onFinish:()=>t.transform(x=>x)})}const J=[{id:"brandnew",name:"Brand New"},{id:"used",name:"Used"}],Y=[{id:null,name:"None"},{id:"percent",name:"%"},{id:"price",name:"Price"}],Q=[{id:!0,name:"Yes"},{id:!1,name:"No"}],X=[{id:"active",name:"Active"},{id:"inactive",name:"Inactive"}];return(x,e)=>(u(),le(oe,null,{default:z(()=>[g(r(re),{title:S.value?"Update Product":"Create Product"},null,8,["title"]),l("div",ge,[l("div",_e,[l("div",null,[l("h1",he,v(S.value?"Update Product":"Create Product"),1),e[27]||(e[27]=l("p",{class:"text-sm text-neutral-500"},"Required fields first, then optional details.",-1))]),g(r(E),{href:r(C)("products.index"),class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full border border-neutral-200 px-4 py-2 text-sm font-medium text-neutral-700 hover:bg-neutral-100 transition"},{default:z(()=>[...e[28]||(e[28]=[B(" Back ",-1)])]),_:1},8,["href"])]),l("form",{onSubmit:_(W,["prevent"]),class:"rounded-2xl border border-neutral-200 bg-white p-4 sm:p-6 shadow-sm space-y-6"},[l("div",null,[e[31]||(e[31]=l("h2",{class:"text-base font-semibold text-neutral-900 mb-3"},"Required",-1)),l("div",we,[l("div",null,[g(k,{id:"category_id",label:"Category",options:a.value,modelValue:r(t).category_id,"onUpdate:modelValue":e[0]||(e[0]=o=>r(t).category_id=o),error:r(t).errors.category_id,isRequired:!0,valueKey:"id",labelKey:"name",placeholder:"Select category"},null,8,["options","modelValue","error"])]),l("div",null,[g(k,{id:"brand_id",label:"Brand (filtered by category)",options:A.value,modelValue:r(t).brand_id,"onUpdate:modelValue":e[1]||(e[1]=o=>r(t).brand_id=o),error:r(t).errors.brand_id,isRequired:!0,valueKey:"id",labelKey:"name",placeholder:"Select brand"},null,8,["options","modelValue","error"])]),l("div",null,[e[29]||(e[29]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Device Model",-1)),c(l("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r(t).model=o),type:"text",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. iPhone 13 Pro"},null,512),[[b,r(t).model]]),r(t).errors.model?(u(),m("p",ke,v(r(t).errors.model),1)):f("",!0)]),l("div",null,[g(k,{id:"device_status",label:"Device Status",options:J,modelValue:r(t).device_status,"onUpdate:modelValue":e[3]||(e[3]=o=>r(t).device_status=o),error:r(t).errors.device_status,isRequired:!0,valueKey:"id",labelKey:"name",placeholder:"Select status"},null,8,["modelValue","error"])]),l("div",Ve,[e[30]||(e[30]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Price (LKR)",-1)),c(l("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>r(t).price_lkr=o),type:"number",step:"0.01",min:"0",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. 250000"},null,512),[[b,r(t).price_lkr]]),r(t).errors.price_lkr?(u(),m("p",Se,v(r(t).errors.price_lkr),1)):f("",!0)])])]),l("div",null,[e[36]||(e[36]=l("h2",{class:"text-base font-semibold text-neutral-900 mb-3"},"Common Optional",-1)),l("div",Ue,[l("div",null,[g(k,{id:"discount_type",label:"Discount Type",options:Y,modelValue:r(t).discount_type,"onUpdate:modelValue":e[5]||(e[5]=o=>r(t).discount_type=o),error:r(t).errors.discount_type,isRequired:!1,valueKey:"id",labelKey:"name",placeholder:"None"},null,8,["modelValue","error"])]),l("div",null,[e[32]||(e[32]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Discount Value",-1)),c(l("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>r(t).discount_value=o),type:"number",step:"0.01",min:"0",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. 10 or 5000"},null,512),[[b,r(t).discount_value]]),r(t).errors.discount_value?(u(),m("p",Ie,v(r(t).errors.discount_value),1)):f("",!0)]),l("div",null,[g(k,{id:"in_stock",label:"In Stock",options:Q,modelValue:r(t).in_stock,"onUpdate:modelValue":e[7]||(e[7]=o=>r(t).in_stock=o),error:r(t).errors.in_stock,isRequired:!1,valueKey:"id",labelKey:"name",placeholder:"Select"},null,8,["modelValue","error"])]),l("div",null,[e[33]||(e[33]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Stock Count",-1)),c(l("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>r(t).stock_count=o),type:"number",step:"1",min:"0",disabled:!r(t).in_stock,class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500 disabled:bg-neutral-100",placeholder:"e.g. 10"},null,8,Pe),[[b,r(t).stock_count]]),r(t).errors.stock_count?(u(),m("p",Ce,v(r(t).errors.stock_count),1)):f("",!0)]),l("div",null,[g(k,{id:"status",label:"Status",options:X,modelValue:r(t).status,"onUpdate:modelValue":e[9]||(e[9]=o=>r(t).status=o),error:r(t).errors.status,isRequired:!1,valueKey:"id",labelKey:"name",placeholder:"Select status"},null,8,["modelValue","error"])]),l("div",ze,[c(l("input",{id:"featured",type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=o=>r(t).is_featured=o),class:"h-4 w-4"},null,512),[[D,r(t).is_featured]]),e[34]||(e[34]=l("label",{for:"featured",class:"text-sm font-medium text-neutral-700"},"Is Featured",-1))]),l("div",null,[g(k,{id:"warranty_option_id",label:"Warranty Type",options:[{id:null,name:"None"},...y.value],modelValue:r(t).warranty_option_id,"onUpdate:modelValue":e[11]||(e[11]=o=>r(t).warranty_option_id=o),error:r(t).errors.warranty_option_id,isRequired:!1,valueKey:"id",labelKey:"name",placeholder:"None"},null,8,["options","modelValue","error"])]),l("div",null,[e[35]||(e[35]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Warranty Period",-1)),c(l("input",{"onUpdate:modelValue":e[12]||(e[12]=o=>r(t).warranty_period=o),type:"text",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. 12 months / 1 year"},null,512),[[b,r(t).warranty_period]]),r(t).errors.warranty_period?(u(),m("p",Ke,v(r(t).errors.warranty_period),1)):f("",!0)])])]),l("div",null,[e[45]||(e[45]=l("h2",{class:"text-base font-semibold text-neutral-900 mb-3"},"Optional Specifications",-1)),l("div",qe,[l("div",null,[e[37]||(e[37]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"OS",-1)),c(l("input",{"onUpdate:modelValue":e[13]||(e[13]=o=>r(t).os=o),type:"text",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500"},null,512),[[b,r(t).os]])]),l("div",null,[e[38]||(e[38]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Connectivity",-1)),c(l("input",{"onUpdate:modelValue":e[14]||(e[14]=o=>r(t).connectivity=o),type:"text",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. 5G, WiFi 6"},null,512),[[b,r(t).connectivity]])]),l("div",null,[g(R,{id:"storage_option_ids",label:"Storage (multi)",placeholder:"Pick storage options",options:p.value,modelValue:r(t).storage_option_ids,"onUpdate:modelValue":e[15]||(e[15]=o=>r(t).storage_option_ids=o),valueKey:"id",labelKey:"label",required:!1,error:r(t).errors.storage_option_ids},null,8,["options","modelValue","error"]),r(t).errors["storage_option_ids.0"]?(u(),m("p",Le,v(r(t).errors["storage_option_ids.0"]),1)):f("",!0)]),l("div",null,[g(R,{id:"ram_option_ids",label:"RAM (multi)",placeholder:"Pick ram options",options:V.value,modelValue:r(t).ram_option_ids,"onUpdate:modelValue":e[16]||(e[16]=o=>r(t).ram_option_ids=o),valueKey:"id",labelKey:"label",required:!1,error:r(t).errors.ram_option_ids},null,8,["options","modelValue","error"]),r(t).errors["ram_option_ids.0"]?(u(),m("p",Oe,v(r(t).errors["ram_option_ids.0"]),1)):f("",!0)]),l("div",null,[e[39]||(e[39]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Display Size",-1)),c(l("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>r(t).display_size=o),type:"text",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. 6.1 inch"},null,512),[[b,r(t).display_size]])]),l("div",null,[e[40]||(e[40]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Display Type",-1)),c(l("input",{"onUpdate:modelValue":e[18]||(e[18]=o=>r(t).display_type=o),type:"text",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. OLED"},null,512),[[b,r(t).display_type]])]),l("div",null,[e[41]||(e[41]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Resolution",-1)),c(l("input",{"onUpdate:modelValue":e[19]||(e[19]=o=>r(t).resolution=o),type:"text",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. 1170x2532"},null,512),[[b,r(t).resolution]])]),l("div",null,[e[42]||(e[42]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Battery (mAh)",-1)),c(l("input",{"onUpdate:modelValue":e[20]||(e[20]=o=>r(t).battery_mah=o),type:"number",min:"0",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. 5000"},null,512),[[b,r(t).battery_mah]])]),l("div",null,[e[43]||(e[43]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Rear Camera",-1)),c(l("input",{"onUpdate:modelValue":e[21]||(e[21]=o=>r(t).rear_camera=o),type:"text",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. 48MP + 12MP"},null,512),[[b,r(t).rear_camera]])]),l("div",null,[e[44]||(e[44]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Front Camera",-1)),c(l("input",{"onUpdate:modelValue":e[22]||(e[22]=o=>r(t).front_camera=o),type:"text",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. 12MP"},null,512),[[b,r(t).front_camera]])]),l("div",Ne,[g(R,{id:"color_ids",label:"Colors (multi select)",placeholder:"Pick colors",options:d.value,modelValue:r(t).color_ids,"onUpdate:modelValue":e[23]||(e[23]=o=>r(t).color_ids=o),valueKey:"id",labelKey:"name",imageKey:"image_url",required:!1,error:r(t).errors.color_ids},null,8,["options","modelValue","error"])])])]),l("div",null,[e[48]||(e[48]=l("h2",{class:"text-base font-semibold text-neutral-900 mb-3"},"Descriptions",-1)),l("div",Re,[l("div",null,[e[46]||(e[46]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Short Description",-1)),c(l("textarea",{"onUpdate:modelValue":e[24]||(e[24]=o=>r(t).short_description=o),rows:"3",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500"},null,512),[[b,r(t).short_description]])]),l("div",null,[e[47]||(e[47]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Long Description",-1)),c(l("textarea",{"onUpdate:modelValue":e[25]||(e[25]=o=>r(t).long_description=o),rows:"6",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500"},null,512),[[b,r(t).long_description]])])])]),l("div",null,[e[52]||(e[52]=l("h2",{class:"text-base font-semibold text-neutral-900 mb-3"},"Images",-1)),l("div",Me,[l("div",null,[e[49]||(e[49]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Main Image",-1)),l("div",Te,[l("div",Ee,[L.value?(u(),m("img",{key:0,src:L.value,class:"h-full w-full object-cover"},null,8,Be)):(u(),m("span",De,"No Image"))]),l("div",je,[l("input",{type:"file",accept:"image/*",onChange:H,class:"block w-full text-sm text-neutral-600 file:mr-4 file:rounded-full file:border-0 file:bg-neutral-100 file:px-4 file:py-2 file:text-sm file:font-medium hover:file:bg-neutral-200"},null,32),r(t).errors.main_image?(u(),m("p",Fe,v(r(t).errors.main_image),1)):f("",!0)])])]),l("div",null,[e[51]||(e[51]=l("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Gallery Images",-1)),l("input",{type:"file",accept:"image/*",multiple:"",onChange:G,class:"block w-full text-sm text-neutral-600 file:mr-4 file:rounded-full file:border-0 file:bg-neutral-100 file:px-4 file:py-2 file:text-sm file:font-medium hover:file:bg-neutral-200"},null,32),r(t).errors.gallery_images?(u(),m("p",Ae,v(r(t).errors.gallery_images),1)):f("",!0),S.value?(u(),m("div",He,[c(l("input",{id:"clearGallery",type:"checkbox","onUpdate:modelValue":e[26]||(e[26]=o=>r(t).clear_gallery=o),class:"h-4 w-4"},null,512),[[D,r(t).clear_gallery]]),e[50]||(e[50]=l("label",{for:"clearGallery",class:"text-sm text-neutral-700"},"Clear existing gallery on update",-1))])):f("",!0)]),l("div",Ge,[M.value.length?(u(),m("div",We,"Existing Gallery")):f("",!0),l("div",Je,[(u(!0),m(K,null,q(M.value,(o,U)=>(u(),m("img",{key:"old-"+U,src:o,class:"h-16 w-16 rounded-lg object-cover border"},null,8,Ye))),128))]),O.value.length?(u(),m("div",Qe,"New Gallery (to upload)")):f("",!0),l("div",Xe,[(u(!0),m(K,null,q(O.value,(o,U)=>(u(),m("img",{key:"new-"+U,src:o,class:"h-16 w-16 rounded-lg object-cover border"},null,8,Ze))),128))])])])]),l("div",$e,[g(r(E),{href:r(C)("products.index"),class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full border border-neutral-200 px-5 py-2 text-sm font-medium text-neutral-700 hover:bg-neutral-100 transition"},{default:z(()=>[...e[53]||(e[53]=[B(" Cancel ",-1)])]),_:1},8,["href"]),l("button",{type:"submit",disabled:r(t).processing,class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full bg-red-500 px-6 py-2 text-sm font-medium text-white hover:bg-red-600 disabled:opacity-50"},v(r(t).processing?"Saving...":S.value?"Update":"Create"),9,et)])],32)])]),_:1}))}});export{bt as default};
