import{d as y,f as _,m as h,p as S,c as k,w as d,a as m,b as e,u as r,h as B,t as l,l as x,D as i,e as v,q as C,s as p,j as c,v as f,x as U,o as u,y as b}from"./app-CO-Li67X.js";import{_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-CccvE53C.js";import"./index-BGSI_5wX.js";import"./useForwardExpose-CPxa4S1q.js";import"./VisuallyHidden-znRxUDds.js";import"./RovingFocusGroup-BF5_n4PG.js";import"./createLucideIcon-DirkTCRQ.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-DmJqIgJy.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Ds9XV8fC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./lock-C1-sIU4x.js";const j={class:"p-6 space-y-4"},E={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},G={class:"text-2xl font-bold"},N={class:"text-sm text-neutral-500"},T={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},D={class:"md:col-span-1"},M={key:0,class:"mt-1 text-sm text-red-600"},q={class:"md:col-span-1"},A={key:0,class:"mt-1 text-sm text-red-600"},F={class:"md:col-span-1"},I={key:0,class:"mt-1 text-sm text-red-600"},$={class:"mt-6 flex flex-col sm:flex-row gap-2 sm:justify-end"},z=["disabled"],te=y({__name:"CreateUpdate",props:{mode:{},storage:{}},setup(g){const o=g,a=_(()=>o.mode==="edit"&&!!o.storage?.id),t=h({value:o.storage?.value??null,unit:o.storage?.unit??"GB",status:o.storage?.status??"active"});S(()=>o.storage?.id,()=>{t.clearErrors(),t.value=o.storage?.value??null,t.unit=o.storage?.unit??"GB",t.status=o.storage?.status??"active"});function w(){if(t.clearErrors(),!a.value){t.post(i("storage.store"),{preserveScroll:!0});return}t.put(i("storage.update",o.storage.id),{preserveScroll:!0})}return(H,s)=>(u(),k(V,null,{default:d(()=>[m(r(B),{title:a.value?"Update Storage":"Create Storage"},null,8,["title"]),e("div",j,[e("div",E,[e("div",null,[e("h1",G,l(a.value?"Update Storage":"Create Storage"),1),e("p",N,l(a.value?"Edit storage details.":"Create a new storage option."),1)]),m(r(x),{href:r(i)("storage.index"),class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full border border-neutral-200 px-4 py-2 text-sm font-medium text-neutral-700 hover:bg-neutral-100 transition"},{default:d(()=>[...s[3]||(s[3]=[v(" Back ",-1)])]),_:1},8,["href"])]),e("form",{onSubmit:C(w,["prevent"]),class:"rounded-2xl border border-neutral-200 bg-white p-4 sm:p-6 shadow-sm"},[e("div",T,[e("div",D,[s[4]||(s[4]=e("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Storage Value",-1)),p(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>r(t).value=n),type:"number",min:"1",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. 128"},null,512),[[U,r(t).value,void 0,{number:!0}]]),r(t).errors.value?(u(),c("p",M,l(r(t).errors.value),1)):f("",!0)]),e("div",q,[s[6]||(s[6]=e("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Unit",-1)),p(e("select",{"onUpdate:modelValue":s[1]||(s[1]=n=>r(t).unit=n),class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500"},[...s[5]||(s[5]=[e("option",{value:"GB"},"GB",-1),e("option",{value:"TB"},"TB",-1)])],512),[[b,r(t).unit]]),r(t).errors.unit?(u(),c("p",A,l(r(t).errors.unit),1)):f("",!0)]),e("div",F,[s[8]||(s[8]=e("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Status",-1)),p(e("select",{"onUpdate:modelValue":s[2]||(s[2]=n=>r(t).status=n),class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500"},[...s[7]||(s[7]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)])],512),[[b,r(t).status]]),r(t).errors.status?(u(),c("p",I,l(r(t).errors.status),1)):f("",!0)])]),e("div",$,[m(r(x),{href:r(i)("storage.index"),class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full border border-neutral-200 px-5 py-2 text-sm font-medium text-neutral-700 hover:bg-neutral-100 transition"},{default:d(()=>[...s[9]||(s[9]=[v(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:r(t).processing,class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full bg-red-500 px-6 py-2 text-sm font-medium text-white hover:bg-red-600 disabled:opacity-50"},l(r(t).processing?"Saving...":a.value?"Update":"Create"),9,z)])],32)])]),_:1}))}});export{te as default};
