import{d as w,f as k,r as B,m as C,p as U,c as j,w as x,a as c,b as t,u as s,h as S,t as n,l as g,D as f,e as v,q as V,s as _,j as i,v as p,x as N,o as d,y as M}from"./app-CO-Li67X.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-CccvE53C.js";import{M as L}from"./MultiSelect-DJzAklNJ.js";import"./index-BGSI_5wX.js";import"./useForwardExpose-CPxa4S1q.js";import"./VisuallyHidden-znRxUDds.js";import"./RovingFocusGroup-BF5_n4PG.js";import"./createLucideIcon-DirkTCRQ.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-DmJqIgJy.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Ds9XV8fC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./lock-C1-sIU4x.js";const P={class:"p-6 space-y-4"},E={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},F={class:"text-2xl font-bold"},T={class:"text-sm text-neutral-500"},A={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},G={class:"md:col-span-1"},K={key:0,class:"mt-1 text-sm text-red-600"},R={class:"md:col-span-1"},q={key:0,class:"mt-1 text-sm text-red-600"},I={class:"md:col-span-2"},J={key:0,class:"mt-1 text-sm text-red-600"},O={class:"md:col-span-2"},W={class:"flex flex-col sm:flex-row gap-4 items-start sm:items-center"},$={class:"h-20 w-20 rounded-xl border border-neutral-200 overflow-hidden bg-neutral-50 flex items-center justify-center"},z=["src"],H={key:1,class:"text-xs text-neutral-400"},Q={class:"flex-1 w-full"},X={key:0,class:"mt-1 text-sm text-red-600"},Y={class:"mt-6 flex flex-col sm:flex-row gap-2 sm:justify-end"},Z=["disabled"],fe=w({__name:"CreateUpdate",props:{mode:{},categories:{},brand:{}},setup(b){const l=b,u=k(()=>l.mode==="edit"&&l.brand?.id),m=B(l.brand?.logo_url??null),e=C({name:l.brand?.name??"",status:l.brand?.status??"active",category_ids:l.brand?.category_ids??[],logo:null});U(()=>l.brand?.id,()=>{const o=l.brand;e.name=o?.name??"",e.status=o?.status??"active",e.category_ids=o?.category_ids??[],e.logo=null,m.value=o?.logo_url??null});function y(o){const a=o.target.files?.[0]||null;e.logo=a,a&&(m.value=URL.createObjectURL(a))}function h(){if(e.clearErrors(),!u.value){e.post(f("brands.store"),{forceFormData:!0,preserveScroll:!0});return}e.transform(o=>({...o,_method:"PUT"})).post(f("brands.update",l.brand.id),{forceFormData:!0,preserveScroll:!0,onFinish:()=>e.transform(o=>o)})}return(o,r)=>(d(),j(D,null,{default:x(()=>[c(s(S),{title:u.value?"Update Brand":"Create Brand"},null,8,["title"]),t("div",P,[t("div",E,[t("div",null,[t("h1",F,n(u.value?"Update Brand":"Create Brand"),1),t("p",T,n(u.value?"Edit brand details.":"Create a new brand."),1)]),c(s(g),{href:s(f)("brands.index"),class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full border border-neutral-200 px-4 py-2 text-sm font-medium text-neutral-700 hover:bg-neutral-100 transition"},{default:x(()=>[...r[3]||(r[3]=[v(" Back ",-1)])]),_:1},8,["href"])]),t("form",{onSubmit:V(h,["prevent"]),class:"rounded-2xl border border-neutral-200 bg-white p-4 sm:p-6 shadow-sm"},[t("div",A,[t("div",G,[r[4]||(r[4]=t("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Brand Name",-1)),_(t("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>s(e).name=a),type:"text",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. Apple"},null,512),[[N,s(e).name]]),s(e).errors.name?(d(),i("p",K,n(s(e).errors.name),1)):p("",!0)]),t("div",R,[r[6]||(r[6]=t("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Status",-1)),_(t("select",{"onUpdate:modelValue":r[1]||(r[1]=a=>s(e).status=a),class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500"},[...r[5]||(r[5]=[t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)])],512),[[M,s(e).status]]),s(e).errors.status?(d(),i("p",q,n(s(e).errors.status),1)):p("",!0)]),t("div",I,[c(L,{id:"brandCategories",label:"Brand Category",placeholder:"Select categories",options:b.categories,modelValue:s(e).category_ids,"onUpdate:modelValue":r[2]||(r[2]=a=>s(e).category_ids=a),valueKey:"id",labelKey:"name",error:s(e).errors.category_ids},null,8,["options","modelValue","error"]),s(e).errors.category_ids?(d(),i("p",J,n(s(e).errors.category_ids),1)):p("",!0)]),t("div",O,[r[8]||(r[8]=t("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Brand Logo",-1)),t("div",W,[t("div",$,[m.value?(d(),i("img",{key:0,src:m.value,class:"h-full w-full object-cover"},null,8,z)):(d(),i("span",H,"No Logo"))]),t("div",Q,[t("input",{type:"file",accept:"image/*",onChange:y,class:"block w-full text-sm text-neutral-600 file:mr-4 file:rounded-full file:border-0 file:bg-neutral-100 file:px-4 file:py-2 file:text-sm file:font-medium hover:file:bg-neutral-200"},null,32),r[7]||(r[7]=t("p",{class:"text-xs text-neutral-500 mt-1"},"JPG/PNG/WebP, up to 2MB recommended.",-1)),s(e).errors.logo?(d(),i("p",X,n(s(e).errors.logo),1)):p("",!0)])])])]),t("div",Y,[c(s(g),{href:s(f)("brands.index"),class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full border border-neutral-200 px-5 py-2 text-sm font-medium text-neutral-700 hover:bg-neutral-100 transition"},{default:x(()=>[...r[9]||(r[9]=[v(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:s(e).processing,class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full bg-red-500 px-6 py-2 text-sm font-medium text-white hover:bg-red-600 disabled:opacity-50"},n(s(e).processing?"Saving...":u.value?"Update":"Create"),9,Z)])],32)])]),_:1}))}});export{fe as default};
