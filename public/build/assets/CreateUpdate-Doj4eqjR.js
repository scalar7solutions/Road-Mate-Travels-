import{d as h,f as k,r as C,m as j,p as U,c as W,w as f,a as p,b as e,u as s,h as N,t as n,l as b,D as c,e as y,q as S,s as v,j as u,v as x,x as B,o as i,y as V}from"./app-CO-Li67X.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-CccvE53C.js";import"./index-BGSI_5wX.js";import"./useForwardExpose-CPxa4S1q.js";import"./VisuallyHidden-znRxUDds.js";import"./RovingFocusGroup-BF5_n4PG.js";import"./createLucideIcon-DirkTCRQ.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-DmJqIgJy.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Ds9XV8fC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./lock-C1-sIU4x.js";const E={class:"p-6 space-y-4"},P={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},F={class:"text-2xl font-bold"},I={class:"text-sm text-neutral-500"},M={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},T={class:"md:col-span-1"},G={key:0,class:"mt-1 text-sm text-red-600"},L={class:"md:col-span-1"},R={key:0,class:"mt-1 text-sm text-red-600"},q={class:"md:col-span-2"},A={class:"flex flex-col sm:flex-row gap-4 items-start sm:items-center"},J={class:"h-20 w-20 rounded-xl border border-neutral-200 overflow-hidden bg-neutral-50 flex items-center justify-center"},O=["src"],Y={key:1,class:"text-xs text-neutral-400"},$={class:"flex-1 w-full"},z={key:0,class:"mt-1 text-sm text-red-600"},H={class:"mt-6 flex flex-col sm:flex-row gap-2 sm:justify-end"},K=["disabled"],de=h({__name:"CreateUpdate",props:{mode:{},warranty:{}},setup(w){const l=w,d=k(()=>l.mode==="edit"&&!!l.warranty?.id),m=C(l.warranty?.image_url??null),t=j({name:l.warranty?.name??"",status:l.warranty?.status??"active",image:null});U(()=>l.warranty?.id,()=>{const a=l.warranty;t.clearErrors(),t.name=a?.name??"",t.status=a?.status??"active",t.image=null,m.value=a?.image_url??null});function g(a){const o=a.target.files?.[0]||null;t.image=o,o&&(m.value=URL.createObjectURL(o))}function _(){if(t.clearErrors(),!d.value){t.post(c("warranty.store"),{forceFormData:!0,preserveScroll:!0});return}t.transform(a=>({...a,_method:"PUT"})).post(c("warranty.update",l.warranty.id),{forceFormData:!0,preserveScroll:!0,onFinish:()=>t.transform(a=>a)})}return(a,r)=>(i(),W(D,null,{default:f(()=>[p(s(N),{title:d.value?"Update Warranty":"Create Warranty"},null,8,["title"]),e("div",E,[e("div",P,[e("div",null,[e("h1",F,n(d.value?"Update Warranty":"Create Warranty"),1),e("p",I,n(d.value?"Edit warranty details.":"Create a new warranty."),1)]),p(s(b),{href:s(c)("warranty.index"),class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full border border-neutral-200 px-4 py-2 text-sm font-medium text-neutral-700 hover:bg-neutral-100 transition"},{default:f(()=>[...r[2]||(r[2]=[y(" Back ",-1)])]),_:1},8,["href"])]),e("form",{onSubmit:S(_,["prevent"]),class:"rounded-2xl border border-neutral-200 bg-white p-4 sm:p-6 shadow-sm"},[e("div",M,[e("div",T,[r[3]||(r[3]=e("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Warranty Name",-1)),v(e("input",{"onUpdate:modelValue":r[0]||(r[0]=o=>s(t).name=o),type:"text",class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500",placeholder:"e.g. 1 Year Warranty"},null,512),[[B,s(t).name]]),s(t).errors.name?(i(),u("p",G,n(s(t).errors.name),1)):x("",!0)]),e("div",L,[r[5]||(r[5]=e("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Status",-1)),v(e("select",{"onUpdate:modelValue":r[1]||(r[1]=o=>s(t).status=o),class:"w-full rounded-xl border border-neutral-200 px-4 py-2 outline-none focus:border-red-500"},[...r[4]||(r[4]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)])],512),[[V,s(t).status]]),s(t).errors.status?(i(),u("p",R,n(s(t).errors.status),1)):x("",!0)]),e("div",q,[r[7]||(r[7]=e("label",{class:"block text-sm font-medium text-neutral-700 mb-1"},"Warranty Image",-1)),e("div",A,[e("div",J,[m.value?(i(),u("img",{key:0,src:m.value,class:"h-full w-full object-cover"},null,8,O)):(i(),u("span",Y,"No Image"))]),e("div",$,[e("input",{type:"file",accept:"image/*",onChange:g,class:"block w-full text-sm text-neutral-600 file:mr-4 file:rounded-full file:border-0 file:bg-neutral-100 file:px-4 file:py-2 file:text-sm file:font-medium hover:file:bg-neutral-200"},null,32),r[6]||(r[6]=e("p",{class:"text-xs text-neutral-500 mt-1"},"JPG/PNG/WebP up to 2MB.",-1)),s(t).errors.image?(i(),u("p",z,n(s(t).errors.image),1)):x("",!0)])])])]),e("div",H,[p(s(b),{href:s(c)("warranty.index"),class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full border border-neutral-200 px-5 py-2 text-sm font-medium text-neutral-700 hover:bg-neutral-100 transition"},{default:f(()=>[...r[8]||(r[8]=[y(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(t).processing,class:"inline-flex w-full sm:w-auto items-center justify-center rounded-full bg-red-500 px-6 py-2 text-sm font-medium text-white hover:bg-red-600 disabled:opacity-50"},n(s(t).processing?"Saving...":d.value?"Update":"Create"),9,K)])],32)])]),_:1}))}});export{de as default};
