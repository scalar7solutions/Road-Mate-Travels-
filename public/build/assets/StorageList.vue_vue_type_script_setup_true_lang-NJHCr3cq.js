import{D as f}from"./Datatable-V7WP3OY6.js";import{d as p,f as g,D as n,r as h,j as v,b as e,a as _,w,k as d,o as x}from"./app-CO-Li67X.js";const k={class:"rounded-2xl border border-neutral-200 bg-white p-4 shadow-sm"},N=p({__name:"StorageList",setup(y){const i=g(()=>n("storage.data")),l=h(0),c=[{data:"id",name:"id"},{data:"storage_label",name:"value"},{data:"status_badge",name:"status",orderable:!0,searchable:!0},{data:"actions",name:"actions",orderable:!1,searchable:!1}],u=[{targets:[2,3],render:t=>t}];function b(t){const o=t.target.closest("button[data-action]");if(!o)return;t.preventDefault(),t.stopPropagation();const r=o.dataset.action,s=o.dataset.id,m=o.dataset.label;if(!(!r||!s)){if(r==="edit"){d.visit(n("storage.edit",Number(s)));return}if(r==="delete"){if(!confirm(`Delete storage "${m||""}"? This cannot be undone.`))return;d.delete(n("storage.destroy",Number(s)),{preserveScroll:!0,onSuccess:()=>l.value=Date.now()})}}}return(t,a)=>(x(),v("div",k,[a[1]||(a[1]=e("div",{class:"font-semibold text-neutral-800 mb-4"},"All Storage Options",-1)),e("div",{onClick:b},[_(f,{id:"storageTable",url:i.value,columns:c,columnDefs:u,order:[[0,"desc"]],reloadKey:l.value},{header:w(()=>[...a[0]||(a[0]=[e("tr",null,[e("th",{style:{width:"60px"}},"#"),e("th",null,"Storage"),e("th",{style:{width:"120px"}},"Status"),e("th",{style:{width:"220px"}},"Actions")],-1)])]),_:1},8,["url","reloadKey"])])]))}});export{N as _};
