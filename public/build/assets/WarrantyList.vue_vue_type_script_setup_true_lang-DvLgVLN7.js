import{D as f}from"./Datatable-V7WP3OY6.js";import{d as p,f as y,D as o,r as w,j as h,b as t,a as v,w as _,k as l,o as x}from"./app-CO-Li67X.js";const g={class:"rounded-2xl border border-neutral-200 bg-white p-4 shadow-sm"},T=p({__name:"WarrantyList",setup(k){const i=y(()=>o("warranty.data")),d=w(0),c=[{data:"id",name:"id"},{data:"name",name:"name"},{data:"status_badge",name:"status",orderable:!0,searchable:!0},{data:"actions",name:"actions",orderable:!1,searchable:!1}],u=[{targets:[2,3],render:e=>e}];function m(e){const r=e.target.closest("button[data-action]");if(!r)return;e.preventDefault(),e.stopPropagation();const n=r.dataset.action,s=r.dataset.id,b=r.dataset.name;if(!(!n||!s)){if(n==="edit"){l.visit(o("warranty.edit",Number(s)));return}if(n==="delete"){if(!confirm(`Delete warranty "${b||""}"? This cannot be undone.`))return;l.delete(o("warranty.destroy",Number(s)),{preserveScroll:!0,onSuccess:()=>d.value=Date.now()})}}}return(e,a)=>(x(),h("div",g,[a[1]||(a[1]=t("div",{class:"font-semibold text-neutral-800 mb-4"},"All Warranty Options",-1)),t("div",{onClick:m},[v(f,{id:"warrantyTable",url:i.value,columns:c,columnDefs:u,order:[[0,"desc"]],reloadKey:d.value},{header:_(()=>[...a[0]||(a[0]=[t("tr",null,[t("th",{style:{width:"60px"}},"#"),t("th",null,"Warranty Name"),t("th",{style:{width:"120px"}},"Status"),t("th",{style:{width:"220px"}},"Actions")],-1)])]),_:1},8,["url","reloadKey"])])]))}});export{T as _};
